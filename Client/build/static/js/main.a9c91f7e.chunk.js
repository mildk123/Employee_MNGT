(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{398:function(e,t,a){e.exports=a(649)},551:function(e,t,a){},647:function(e,t,a){},649:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(49),o=a.n(l),c=a(19),i=a(20),s=a(22),m=a(21),u=a(23),d=a(669),p=a(178),h=a(43),E=a(78),f=a(666),g=a(660),b=a(670),y=a(44),C=a.n(y),O=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(m.a)(t).call(this))).show=function(){return e.setState({open:!0})},e.close=function(){return e.setState({open:!1})},e.onChangeHandler=function(t,a){e.setState(Object(E.a)({},t,a))},e.action=function(t){var a=e.state,n=a.email,r=a.password;n&&r?(e.setState({isLoading:!0}),"Register"===t?fetch("http://localhost:5000/auth/register",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:n,password:r})}).then(function(e){return e.json()}).then(function(t){!1===t.match?(C()(t.message),e.setState({isLoading:!1})):(sessionStorage.setItem("SessionToken",t.token),e.props.onCreateUser({User:{email:n,password:r}}),e.props.history.replace("/Home"))}).catch(function(t){console.log(t.message),e.setState({isLoading:!1})}):fetch("http://localhost:5000/auth/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:n,password:r})}).then(function(e){return e.json()}).then(function(t){!1===t.match?(C()(t.message),e.setState({isLoading:!1})):(sessionStorage.setItem("SessionToken",t.token),e.props.onStoreToken({token:t.token}),e.props.history.replace("/Home"))}).catch(function(t){C()(t.message),e.setState({isLoading:!1}),console.log(t.message)})):C()("Please Enter Email/Password")},e.state={open:!1,isLoading:!1},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.state.authReducer.modal;t&&this.setState({btnIcon:t.btnIcon,modalTitle:t.modalTitle,modalType:t.modalType,open:!0})}},{key:"render",value:function(){var e=this,t=this.state,a=t.open,n=t.btnIcon,l=t.modalTitle,o=t.modalType;return r.a.createElement("div",null,r.a.createElement(f.a,{size:"tiny",open:a,onClose:this.close},r.a.createElement(f.a.Header,null,l),r.a.createElement(f.a.Content,null,r.a.createElement(b.a,null,r.a.createElement(b.a.Row,{columns:1},r.a.createElement(b.a.Column,null,r.a.createElement(g.a,{onChange:function(t){e.onChangeHandler("email",t.target.value)},tabIndex:"1",fluid:!0,label:r.a.createElement(p.a,{name:"mail"}),type:"email",size:"large",iconPosition:"left",placeholder:"Email"}))),r.a.createElement(b.a.Row,{columns:1},r.a.createElement(b.a.Column,null,r.a.createElement(g.a,{onChange:function(t){e.onChangeHandler("password",t.target.value)},tabIndex:"2",fluid:!0,label:r.a.createElement(p.a,{name:"key"}),type:"password",size:"large",iconPosition:"left",placeholder:"Password"}))))),r.a.createElement(f.a.Actions,null,r.a.createElement(d.a,{negative:!0,onClick:this.close},"Cancel"),this.state.isLoading?r.a.createElement(d.a,{color:"black",loading:!0},"Loading"):r.a.createElement(d.a,{color:"black",icon:!0,labelPosition:"right",onClick:function(){return e.action(o)}},o,r.a.createElement(p.a,{name:n})))))}}]),t}(n.Component),v={onStoreToken:function(e){return{type:"USER_TOKEN",payload:e}},onCreateUser:function(e){return{type:"CREATE_USER",payload:e}}},j=Object(h.b)(function(e){return{modal:e}},v)(O),S=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(m.a)(t).call(this))).changeModal=function(t){var a={modalType:t,modalTitle:"Register"===t?"Create Account":"Login",btnIcon:"Register"===t?"user circle":"sign-in"};e.props.onFireModal({modal:a})},e.state={},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement(j,this.props),r.a.createElement("div",null,r.a.createElement(d.a.Group,null,r.a.createElement(d.a,{onClick:function(){return e.changeModal("Register")},animated:!0,color:"black",primary:!0},r.a.createElement(d.a.Content,{visible:!0},"Register"),r.a.createElement(d.a.Content,{hidden:!0},r.a.createElement(p.a,{name:"user circle"}))),r.a.createElement("div",{style:{margin:3}}),r.a.createElement(d.a,{onClick:function(){return e.changeModal("Login")},animated:!0,size:"large",color:"red"},r.a.createElement(d.a.Content,{visible:!0},"Login"),r.a.createElement(d.a.Content,{hidden:!0},r.a.createElement(p.a,{name:"sign-in"}))))))}}]),t}(n.Component),k={onFireModal:function(e){return{type:"CHANGE_MODAL",payload:e}}},_=Object(h.b)(function(e,t){return{state:e}},k)(S),T=(a(551),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).checkAuth=function(){sessionStorage.getItem("SessionToken")?a.props.history.replace("/Home"):a.props.history.replace("/")},a.state={},a.checkAuth(),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"myComponent",style:{height:"100vh",background:" linear-gradient(180deg, #6a3093, #a044ff)",overflow:"auto"}},r.a.createElement("h1",null,"Authentication"),r.a.createElement("div",{className:"btnDiv"},r.a.createElement(_,this.props))))}}]),t}(n.Component)),x=a(42),A=a(123),N=a.n(A),w=a(124),F=a.n(w),H=a(126),L=a.n(H),D=a(125),R=a.n(D),I={root:{flexGrow:1},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},signOut:{position:"absolute",right:24}},B=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.addEmp;return r.a.createElement("div",{className:a.root},r.a.createElement(N.a,{position:"static",style:{background:" linear-gradient(10deg, #1D976C, #93F9B9)"}},r.a.createElement(F.a,null,r.a.createElement(R.a,{className:a.menuButton},r.a.createElement(p.a,{className:"styles.icon",name:n?"users":"plus circle",size:"large",inverted:!0})),r.a.createElement(L.a,{variant:"h6",color:"inherit",className:a.grow},this.props.children),r.a.createElement("div",{className:I.signOut},r.a.createElement(d.a,{onClick:function(){n?e.props.history.push("/Add"):e.props.history.goBack()},animated:!0,color:n?"purple":"youtube"},r.a.createElement(d.a.Content,{visible:!0},n?"Add Employee":"Cancel"),r.a.createElement(d.a.Content,{hidden:!0},r.a.createElement(p.a,{name:n?"plus":"arrow circle left"}))),r.a.createElement(d.a,{onClick:function(){sessionStorage.removeItem("SessionToken"),e.props.history.replace("/")},animated:!0,color:"twitter"},r.a.createElement(d.a.Content,{visible:!0},"Logout"),r.a.createElement(d.a.Content,{hidden:!0},r.a.createElement(p.a,{name:"sign-out"})))))))}}]),t}(r.a.Component),P=Object(x.withStyles)(I)(B),U=a(661),M=function(e){return r.a.createElement(U.a,{text:!0,fluid:!0},e.children)},J=a(667),q=[{key:"Name",text:"Name",value:"emp_fname"},{key:"Department",text:"Department",value:"emp_dept"},{key:"Band",text:"Band",value:"emp_band"},{key:"Specifications",text:"Specifications",value:"emp_specs"},{key:"Fathers name",text:"Fathers name",value:"father_info.name"},{key:"House No",text:"House No",value:"address[0].house_no"},{key:"Flat No",text:"Flat No",value:"address[0].flat_no"}],G=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(m.a)(t).call(this))).state={isLoading:!1},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement(g.a,{onChange:function(t){e.props.textChange(t.target.value)},fluid:!0,label:r.a.createElement(J.a,{onChange:function(t,a){return e.props.dropHandler(t,a)},defaultValue:"emp_fname",options:q}),labelPosition:"left",placeholder:"Search...",action:{onClick:function(){return e.props.buttonHandler()},color:"twitter",labelPosition:"left",icon:"search",content:"Search"}}))}}]),t}(n.Component),z=a(668),X=a(650),V=a(671),W=function(e){return r.a.createElement("div",{style:{textAlign:"center",padding:50}},r.a.createElement(z.a,{color:"blue",raised:!0},r.a.createElement(X.a,{src:"https://react.semantic-ui.com/images/avatar/large/matthew.png"}),r.a.createElement(z.a.Content,null,r.a.createElement(z.a.Header,null,e.fname),r.a.createElement(z.a.Meta,null,r.a.createElement(V.a,{trigger:r.a.createElement("span",{className:"date"},"Joined Us On Feb/2015")},r.a.createElement(V.a.Content,null,"Date Joined"))),r.a.createElement("br",null),r.a.createElement("div",{style:{textAlign:"left"}},r.a.createElement(z.a.Content,null,r.a.createElement(V.a,{trigger:r.a.createElement("a",null,r.a.createElement(p.a,{circular:!0,name:"hashtag"}),e.id)},r.a.createElement(V.a.Content,null,"ID"))),r.a.createElement(z.a.Content,null,r.a.createElement(V.a,{trigger:r.a.createElement("a",null,r.a.createElement(p.a,{circular:!0,name:"group"}),e.band)},r.a.createElement(V.a.Content,null,"Band"))),r.a.createElement(z.a.Content,null,r.a.createElement(V.a,{trigger:r.a.createElement("a",null,r.a.createElement(p.a,{circular:!0,name:"computer"}),e.specs)},r.a.createElement(V.a.Content,null,"Specifications"))),r.a.createElement(z.a.Content,{extra:!0},r.a.createElement(V.a,{trigger:r.a.createElement("a",null,r.a.createElement(p.a,{circular:!0,name:"address card"}),e.father)},r.a.createElement(V.a.Content,null,"Father's Name"))),r.a.createElement(z.a.Content,{extra:!0},r.a.createElement(V.a,{trigger:r.a.createElement("a",null,r.a.createElement(p.a,{circular:!0,name:"home"}),e.address)},r.a.createElement(V.a.Content,null,"Address"))))),r.a.createElement(z.a.Content,{extra:!0},r.a.createElement(V.a,{trigger:r.a.createElement("a",null,r.a.createElement(p.a,{circular:!0,name:"book"}),e.dept)},r.a.createElement(V.a.Content,null,"Department")))))},K=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).checkAuth=function(){sessionStorage.getItem("SessionToken")?a.fetchEmployee():a.props.history.replace("/")},a.dropOnChange=function(e,t){a.setState({searchCat:t.value})},a.searchTextChange=function(e){a.setState({searchTerm:e})},a.buttonHandler=function(){a.searchEmp()},a.fetchEmployee=function(){fetch("http://localhost:5000/employees/get").then(function(e){return e.json()}).then(function(e){var t=e.employee;t?a.setState({employeeList:t,isFetching:!1}):C()("failed to get employees list")}).catch(function(e){return console.log(e.message)})},a.searchEmp=function(){fetch("http://localhost:5000/employees/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({searchCat:a.state.searchCat,searchTerm:a.state.searchTerm})}).then(function(e){return e.json()}).then(function(e){console.log(e);var t=e.employee;t?a.setState({employeeList:t,isFetching:!1}):C()("failed to get employees list")}).catch(function(e){return console.log(e.message)})},a.state={isFetching:!1,employeeList:[],searchCat:"emp_fname"},a.checkAuth(),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.employeeList;return r.a.createElement(n.Fragment,null,r.a.createElement(P,Object.assign({},this.props,{variant:"h5",textColor:"inherit",addEmp:"Add Employee"}),"Home"),r.a.createElement("div",{style:{paddingBlockStart:30,paddingBlockEnd:30,alignContent:"center"}},r.a.createElement(M,null,r.a.createElement(G,{dropHandler:function(t,a){return e.dropOnChange(t,a)},textChange:function(t){return e.searchTextChange(t)},buttonHandler:this.buttonHandler}))),r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center"}},t?t.map(function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(W,{fname:e.emp_fname,dept:e.emp_dept,id:"#".concat(Math.floor(9999*Math.random())),band:e.emp_band,specs:"\n                ".concat(e.emp_specs[0],"  \n                ").concat(e.emp_specs[1]?"/ ".concat(e.emp_specs[1]," "):""," \n                ").concat(e.emp_specs[2]?"/ ".concat(e.emp_specs[2]," "):"","\n                "),father:e.father_info?e.father_info.name:"Not mentioned",address:"House no : ".concat(e.address[0].house_no,",").concat(e.address[0].flat_no," ")}))}):r.a.createElement(W,{fname:"first Name",dept:"Department",id:"Id",band:"band",specs:"specification",father:"father's name",address:"Address"})))}}]),t}(n.Component),Q=Object(h.b)(function(e){return{store:e}})(K),Y=a(664),Z=a(286),$=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).checkAuth=function(){sessionStorage.getItem("SessionToken")||a.props.history.replace("/")},a.onChange=function(e,t){a.setState(Object(E.a)({},e,t.target.value))},a.AddEmp=function(){var e=a.state,t=e.Address,n=e.Department,r=e.Spec1,l=e.Spec2,o=e.Band,c=e.fatherName,i=e.fname;t&&n&&r&&o&&l&&c&&i?fetch("http://localhost:5000/employees/add ",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({Address:t,Department:n,Spec1:r,Spec2:l,Band:o,fatherName:c,fname:i})}).then(function(e){return e.json()}).then(function(e){e.ok&&a.props.history.replace("/Home")}).catch(function(e){return e.message}):C()("Please fill all the required fields")},a.state={},a.checkAuth(),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement(P,Object.assign({},this.props,{variant:"h5",textColor:"inherit"}),"Add Employee"),r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",padding:50}},r.a.createElement(Z.a,{style:{padding:25}},r.a.createElement(Y.a,null,r.a.createElement(Y.a.Field,{required:!0},r.a.createElement("label",null,"First Name"),r.a.createElement(g.a,{type:"text",placeholder:"Steven",onChange:function(t){return e.onChange("fname",t)}})),r.a.createElement(Y.a.Field,{required:!0},r.a.createElement("label",null,"Father name"),r.a.createElement(g.a,{type:"text",placeholder:"Oscar",onChange:function(t){return e.onChange("fatherName",t)}})),r.a.createElement(Y.a.Field,{required:!0},r.a.createElement("label",null,"Department"),r.a.createElement(g.a,{type:"text",placeholder:"Technology",onChange:function(t){return e.onChange("Department",t)}})),r.a.createElement(Y.a.Field,{required:!0},r.a.createElement("label",null,"Band"),r.a.createElement(g.a,{type:"text",placeholder:"G1",onChange:function(t){return e.onChange("Band",t)}})),r.a.createElement(Y.a.Field,{required:!0},r.a.createElement("label",null,"Specification 1"),r.a.createElement(g.a,{type:"text",placeholder:"Android",onChange:function(t){return e.onChange("Spec1",t)}})),r.a.createElement(Y.a.Field,{required:!0},r.a.createElement("label",null,"Specification 2"),r.a.createElement(g.a,{type:"text",placeholder:"Java",onChange:function(t){return e.onChange("Spec2",t)}})),r.a.createElement(Y.a.Field,{required:!0},r.a.createElement("label",null,"Address"),r.a.createElement(g.a,{type:"text",placeholder:"B315, Bakers Street",onChange:function(t){return e.onChange("Address",t)}})),r.a.createElement("div",null,r.a.createElement(d.a,{size:"large",onClick:this.AddEmp,color:"green"},"Done"))))))}}]),t}(n.Component),ee=Object(h.b)(function(e){return{store:e}})($),te=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Error #404"),r.a.createElement("h6",null,"PAGE NOT FOUND."))}}]),t}(n.Component),ae=a(665),ne=a(662),re=a(663),le=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(ae.a,null,r.a.createElement("div",null,r.a.createElement(ne.a,null,r.a.createElement(re.a,{exact:!0,path:"/",component:T}),r.a.createElement(re.a,{path:"/Home",component:Q}),r.a.createElement(re.a,{path:"/Add",component:ee}),r.a.createElement(re.a,{component:te}))))}}]),t}(r.a.Component),oe=(a(647),function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(le,null))}}]),t}(n.Component)),ce=a(77),ie=a(290),se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_MODAL":return Object(ie.a)({},e,t.payload);case"USER_TOKEN":case"CREATE_USER":case"UPDATE_USER":return t.payload;default:return""}},me=Object(ce.b)({authReducer:se}),ue=Object(ce.c)(me,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());o.a.render(r.a.createElement(h.a,{store:ue},r.a.createElement(oe,null)),document.getElementById("root"))}},[[398,2,1]]]);
//# sourceMappingURL=main.a9c91f7e.chunk.js.map